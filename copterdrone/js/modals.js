(()=>{"use strict";class t{constructor(t){this.element=t}static initAll(t){t.forEach(t=>{new this(t).init()})}init(){}}class e{static getNameValue(t){const e=t.querySelector(".order-main-form__tab.--active .order-main-form__input-name input");return(null==e?void 0:e.value)||""}static getPhoneValue(t){const e=t.querySelector(".order-main-form__tab.--active .order-main-form__input-phone input");return(null==e?void 0:e.value)||""}static getEmailValue(t){const e=t.querySelector(".order-main-form__tab.--active .order-main-form__input-email input");return(null==e?void 0:e.value)||""}}class n extends t{constructor(t=document.querySelector(".input")){var e,n;super(t),this.element=t,this.inputElem=null===(e=this.element)||void 0===e?void 0:e.querySelector("input"),this.clearBtn=null===(n=this.element)||void 0===n?void 0:n.querySelector("i")}static initAll(t=document.querySelectorAll(".input")){super.initAll(t)}init(){var t;this.element&&(null===(t=this.clearBtn)||void 0===t||t.addEventListener("click",()=>{this.inputElem&&(this.inputElem.value="",this.inputElem.focus())}))}}class l{constructor(){this.HTML='\n    <div class="tbank-disclamer --show" role="presentation">\n      <div class="tbank-disclamer__title-wrapper">\n        <h1 class="tbank-disclamer__title">Процедура оформления кредита</h1>\n        <div class="tbank-disclamer__close-btn">\n          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M17.0898 5.63672C17.4413 5.28525 18.0118 5.28525 18.3633 5.63672C18.7144 5.98805 18.7142 6.55773 18.3633 6.90918L13.2715 12L18.3633 17.0918C18.7146 17.4433 18.7147 18.0138 18.3633 18.3652C18.0119 18.7167 17.4413 18.7165 17.0898 18.3652L11.998 13.2734L6.90723 18.3652C6.55578 18.7162 5.9861 18.7164 5.63477 18.3652C5.28329 18.0138 5.28329 17.4433 5.63477 17.0918L10.7256 12L5.63477 6.90918C5.28357 6.55769 5.28339 5.9881 5.63477 5.63672C5.98615 5.28534 6.55573 5.28552 6.90723 5.63672L11.998 10.7275L17.0898 5.63672Z" fill="currentColor"/>\n          </svg>\n        </div>\n      </div>\n      <img class="tbank-disclamer__logo" src="assets/img/tbank-logo.svg" alt="" width="118" height="36">\n\n      <div class="tbank-disclamer__content">\n        <h2 class="tbank-disclamer__subtitle">1. Заполните анкету и дождитесь одобрения кредита банком</h2>\n        <p class="tbank-disclamer__text">\n          После подтверждения заказа вас автоматически перенаправит на сайт банка для заполнения анкеты. <br>\n          Заполните ее, следуя инструкциям. <br>\n          В установленный банком срок вам придет уведомление об одобрении кредита\n        </p>\n\n        <h2 class="tbank-disclamer__subtitle">2. Подпишите кредитный договор одним из следующих способов:</h2>\n        <p class="tbank-disclamer__text">\n          Через выездного курьера Банка, <br>\n          Безбумажным способом (посредством sms). <br>\n          Варианты будут обозначены после одобрения вашей заявки. <br>\n          Для оформления кредитного договора необходим Ваш паспорт гражданина РФ.\n        </p>\n\n        <h2 class="tbank-disclamer__subtitle">3. Заберите заказ в магазине</h2>\n        <p class="tbank-disclamer__text">\n          Если все товары в наличии, можете забрать заказ в магазине. Вам потребуется Ваш паспорт. <br>\n          Услуга предоставляется АО «ТБанк»\n        </p>\n      </div>\n\n      <form action="javascript:;" class="tbank-disclamer__form">\n        <div class="tbank-disclamer__inputs">\n          <label class="tbank-disclamer__input-name input">\n            <input placeholder="Заполните имя" id="name" type="text" name="name" />\n            <i></i>\n          </label>\n          <label class="tbank-disclamer__input-email input">\n            <input placeholder="Заполните email" id="email" type="email" name="email" />\n            <i></i>\n          </label>\n        </div>\n\n        <button type="submit" class="tbank-disclamer__next-btn btn --medium">\n          <span>Продолжить</span>\n        </button>\n      </form>\n    </div>\n  ',this.modal=null,this.overlay=null,document.querySelectorAll(".open-tbank-disclamer").forEach(t=>{t.addEventListener("click",()=>{window.oval.alert({html:this.HTML,overlay:!0,closeOnOutsideClick:!0,hideButtons:!0,onOpen:()=>this.onOpen(),modalClass:"modal-tbank-disclamer",overlayClass:"modal-overlay-tbank-disclamer"}).then(t=>this.onFormSubmit(t))})})}onOpen(){this.modal=document.querySelector(".modal-tbank-disclamer"),this.overlay=document.querySelector(".modal-overlay-tbank-disclamer"),this.modal&&this.overlay&&(this.modifyCloseBtn(),this.autofillInputs(),this.modal)&&this.modal.querySelectorAll(".input").forEach(t=>new n(t).init())}onFormSubmit(t){console.log(t),console.log(t.data)}modifyCloseBtn(){if(!this.modal)return;const t=this.modal.querySelector(".crossclose"),e=this.modal.querySelector(".tbank-disclamer__close-btn");null==e||e.addEventListener("click",()=>{null==t||t.click()})}autofillInputs(){if(!this.modal)return;const t=this.modal.querySelector(".tbank-disclamer__input-name input"),n=this.modal.querySelector(".tbank-disclamer__input-email input"),l=document.querySelector(".order-main-form");l&&(t&&(t.value=e.getNameValue(l)),n&&(n.value=e.getEmailValue(l)))}}document.addEventListener("DOMContentLoaded",()=>{"function"==typeof window.oval?new l:console.warn("Модальные окна работать не будут, подключите oval.min.js")})})();